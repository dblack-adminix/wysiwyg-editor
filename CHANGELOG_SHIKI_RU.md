# –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Shiki

## [1.4.0] - 2024-01-19

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–¥—Å–≤–µ—Ç—á–∏–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Shiki
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –∫–æ–¥–∞ (48+ —è–∑—ã–∫–æ–≤)
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–æ–º –∫–æ–¥–∞ (–≤—ã–±–æ—Ä —è–∑—ã–∫–∞, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–Ω–æ—Å)
- ‚úÖ LRU –∫—ç—à –¥–ª—è –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- ‚úÖ Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ –ø–∞–Ω–µ–ª–∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- ‚úÖ UTF-8 –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üîÑ –£–¥–∞–ª–µ–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –∏–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
- üîÑ –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
- üîÑ –£–ª—É—á—à–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ React root (–æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è race conditions)
- üîÑ –û–±–Ω–æ–≤–ª–µ–Ω—ã CSS —Å—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã
- üêõ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –ª–æ–º–∞—é—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–¥–∞
- üêõ Race conditions –ø—Ä–∏ unmount React root
- üêõ –ü–∞–Ω–µ–ª—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- üêõ –û–±—Ä–µ–∑–∞–Ω–∏–µ –∫–æ–¥–∞ —Å –∫–∞–≤—ã—á–∫–∞–º–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö° –ü–µ—Ä–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞: ~500-1000–º—Å (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Shiki)
- ‚ö° –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞: <10–º—Å
- ‚ö° –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–π –≤ –∫—ç—à: ~80-90%

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `src/core/Commands.ts` - Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, insertText
- `src/core/EditorCore.ts` - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å—Ç–∞–≤–∫–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º—ã
- `src/components/WysiwygEditor.tsx` - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ CodeBlock, –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ base64
- `src/components/CodeBlock.tsx` - –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Shiki
- `src/components/CodeBlock.module.css` - –°—Ç–∏–ª–∏
- `src/components/Toolbar.tsx` - –£–¥–∞–ª–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
- `src/components/PreviewPanel.tsx` - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤ preview
- `src/utils/codeHighlight.ts` - –û–±–µ—Ä—Ç–∫–∞ Shiki, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- `src/utils/detectLanguage.ts` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
- `src/utils/codeDetectorRules.ts` - –®–∞–±–ª–æ–Ω—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- `src/WysiwygEditor.module.css` - –°—Ç–∏–ª–∏ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
- `src/hooks/useWysiwygEditor.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìù `SHIKI_FINAL.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Shiki (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- üìù `SHIKI_FINAL_RU.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Shiki (—Ä—É—Å—Å–∫–∏–π)
- üìù `CHANGELOG_SHIKI_RU.md` - –≠—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìù –û–±–Ω–æ–≤–ª–µ–Ω `README.md` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ Shiki

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚ùå –£–¥–∞–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –∏–∑ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚ùå –°–≤–æ–π—Å—Ç–≤–æ theme –±–æ–ª—å—à–µ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–¥—Å–≤–µ—Ç–∫—É –∫–æ–¥–∞ (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)

### –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã:

**–†–∞–Ω—å—à–µ:**
```tsx
<WysiwygEditor theme="light" />
// –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –Ω–∞ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
```

**–¢–µ–ø–µ—Ä—å:**
```tsx
<WysiwygEditor theme="dark" />
// –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
// –ö–æ–¥ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–º–Ω—É—é —Ç–µ–º—É (github-dark)
```

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>10–ú–ë) –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å timeout (5—Å fallback)
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–µ —è–∑—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç plaintext
- –ö–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ preview –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–æ–∫
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É diff
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

---

## [1.3.0] - –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è
- Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–±—Ä–µ–∑–∞–Ω–∏–µ –∫–æ–¥–∞

## [1.2.0] - –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## [1.1.0] - –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è
- –ù–∞—á–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Shiki

## [1.0.0] - –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑
- –ë–∞–∑–æ–≤—ã–π WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä
- Headless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞
