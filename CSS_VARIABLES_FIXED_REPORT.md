# –û—Ç—á—ë—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚úÖ

## –ü—Ä–æ–±–ª–µ–º–∞
CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∞–ª:
- "–≤—Å–µ –ø–æ–ø—Ä–µ–∂–Ω–µ–º—É –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π" (everything unchanged)
- "–Ω–æ —Ü–≤–µ—Ç–∞ —Ç–∞–∫ –∏ –æ—Å—Ç–∞–ª–∏—Å—å –∫–∞–∫ –±—ã–ª–∏ —Å–∏–Ω—è—è —Ö–µ—Ä–Ω—è" (colors stayed the same, blue garbage)

## –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞
React –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç —Å—Ç–∏–ª–µ–π. –ü–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑:
- CSS –º–æ–¥—É–ª–∏ ‚ùå
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ ‚ùå
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π CSS ‚ùå

–í—Å–µ —ç—Ç–∏ –ø–æ–¥—Ö–æ–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ React –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –æ–±—ä–µ–∫—Ç–µ `style`.

## –†–µ—à–µ–Ω–∏–µ
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `useEffect` —Å –º–µ—Ç–æ–¥–æ–º `setProperty()` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫ DOM —ç–ª–µ–º–µ–Ω—Ç—É:

```typescript
const wrapperRef = useRef<HTMLDivElement>(null);

// Apply CSS variables to wrapper element
useEffect(() => {
  if (wrapperRef.current) {
    Object.entries(themeConfig).forEach(([key, value]) => {
      if (value) {
        const cssVarName = `--${key.replace(/([A-Z])/g, '-$1').toLowerCase()}`;
        wrapperRef.current?.style.setProperty(cssVarName, value);
      }
    });
  }
}, [themeConfig]);
```

## –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. src/components/WysiwygEditor.tsx
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `wrapperRef` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ DOM —ç–ª–µ–º–µ–Ω—Ç—É
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `useEffect` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `setProperty()` –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–º—ã
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∞—è –ª–æ–≥–∏–∫–∞ —Å –æ–±—ä–µ–∫—Ç–æ–º —Å—Ç–∏–ª–µ–π

### 2. src/WysiwygEditor.global.css
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –∏–∑ `:root` –≤ `.wysiwyg-editor-wrapper`
- ‚úÖ –í—Å–µ —Å—Ç–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `var(--...)`
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –≤—Å–µ–º–∏ –¥–æ—á–µ—Ä–Ω–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### 3. demo/App.tsx
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ç–µ–º—ã
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ `customTheme` —Å –∫—Ä–∞—Å–Ω–æ–π —Ç–µ–º–æ–π

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–µ–º—ã
```typescript
const themeConfig = getThemeConfig(themeName === 'custom' ? 'custom' : themeName, customTheme);
```

### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫ DOM
```typescript
useEffect(() => {
  if (wrapperRef.current) {
    Object.entries(themeConfig).forEach(([key, value]) => {
      if (value) {
        const cssVarName = `--${key.replace(/([A-Z])/g, '-$1').toLowerCase()}`;
        wrapperRef.current?.style.setProperty(cssVarName, value);
      }
    });
  }
}, [themeConfig]);
```

### –®–∞–≥ 3: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
–í—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```css
.wysiwyg-toolbar-btn {
  color: var(--text-secondary);
  background: transparent;
}

.wysiwyg-toolbar-btn:hover {
  color: var(--primary);
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
- ‚úÖ `theme="dark"` - —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ `theme="light"` - —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞
- ‚úÖ `theme="minimal"` - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ç–µ–º–∞
- ‚úÖ `theme="colorful"` - –∫—Ä–∞—Å–æ—á–Ω–∞—è —Ç–µ–º–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–º—ã
```typescript
<WysiwygEditor
  theme="dark"
  customTheme={{
    primary: '#ff6b6b',
    bgPrimary: '#1a1a2e',
    textPrimary: '#eaeaea',
  }}
/>
```

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|---------|
| `primary` | –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç (–∫–Ω–æ–ø–∫–∏, —Å—Å—ã–ª–∫–∏) |
| `primaryDark` | –¢—ë–º–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ |
| `primaryLight` | –°–≤–µ—Ç–ª—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ |
| `bgPrimary` | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω |
| `bgSecondary` | –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω |
| `textPrimary` | –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç |
| `textSecondary` | –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç |
| `borderRadius` | –†–∞–¥–∏—É—Å —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è —É–≥–ª–æ–≤ |
| `borderWidth` | –¢–æ–ª—â–∏–Ω–∞ –≥—Ä–∞–Ω–∏—Ü |
| `fontFamily` | –°–µ–º–µ–π—Å—Ç–≤–æ —à—Ä–∏—Ñ—Ç–æ–≤ |
| `fontSize` | –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ |
| `shadowSm` | –ú–∞–ª–µ–Ω—å–∫–∞—è —Ç–µ–Ω—å |
| `shadowMd` | –°—Ä–µ–¥–Ω—è—è —Ç–µ–Ω—å |
| `shadowLg` | –ë–æ–ª—å—à–∞—è —Ç–µ–Ω—å |

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö—Ä–∞—Å–Ω–∞—è —Ç–µ–º–∞
```typescript
<WysiwygEditor
  theme="dark"
  customTheme={{
    primary: '#ff6b6b',
    primaryDark: '#ee5a52',
    bgPrimary: '#1a1a2e',
    bgSecondary: '#16213e',
    textPrimary: '#eaeaea',
  }}
/>
```

### –ó–µ–ª—ë–Ω–∞—è —Ç–µ–º–∞
```typescript
<WysiwygEditor
  theme="light"
  customTheme={{
    primary: '#10b981',
    primaryDark: '#059669',
    bgPrimary: '#f0fdf4',
    textPrimary: '#065f46',
  }}
/>
```

### –§–∏–æ–ª–µ—Ç–æ–≤–∞—è —Ç–µ–º–∞
```typescript
<WysiwygEditor
  theme="dark"
  customTheme={{
    primary: '#a855f7',
    primaryDark: '#9333ea',
    bgPrimary: '#1e1b4b',
    textPrimary: '#e9d5ff',
  }}
/>
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:5176/`
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ "Custom Theme Test (CSS Variables)"
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å –∫—Ä–∞—Å–Ω–æ–π —Ç–µ–º–æ–π:
   - –ö–Ω–æ–ø–∫–∏: –∫—Ä–∞—Å–Ω—ã–µ (#ff6b6b)
   - –§–æ–Ω: —Ç—ë–º–Ω—ã–π (#1a1a2e)
   - –¢–µ–∫—Å—Ç: —Å–≤–µ—Ç–ª—ã–π (#eaeaea)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ DevTools

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ù–∞–π–¥–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç `.wysiwyg-editor-wrapper`
3. –í –ø–∞–Ω–µ–ª–∏ "Styles" –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   ```css
   .wysiwyg-editor-wrapper {
     --primary: #ff6b6b;
     --bg-primary: #1a1a2e;
     --text-primary: #eaeaea;
     /* ... –∏ –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ... */
   }
   ```

## –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã

1. **src/components/WysiwygEditor.tsx** - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
2. **src/WysiwygEditor.global.css** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ `.wysiwyg-editor-wrapper`
3. **demo/App.tsx** - –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ç–µ–º—ã

## –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

1. **THEME_SYSTEM_FIXED.md** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ–º
2. **TEST_CSS_VARIABLES.md** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. **CSS_VARIABLES_FIXED_REPORT.md** - –≠—Ç–æ—Ç –æ—Ç—á—ë—Ç

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–º—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è
‚úÖ –í—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- üìù –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ç–µ–º—ã –≤ localStorage
- üìù –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ç–µ–º
- üìù –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º –≤ UI
- üìù –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã
